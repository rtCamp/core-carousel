:where(.core-carousel) {
	position: relative;
	width: 100%;
	--core-carousel-slide-width: 100%;
}

:where(.core-carousel) .embla {
	overflow: hidden;
}

/* Ensure the default container and Query Loop list are flex rows */
:where(.core-carousel) .embla__container,
:where(.core-carousel) .embla .wp-block-post-template {
	display: flex;
	flex-wrap: nowrap;
	width: 100%;
	margin: 0;
	padding: 0;
	list-style: none;
	gap: 0;
	grid-template-columns: none;
	gap: var(--core-carousel-gap, 0);
}

/* Ensure intermediate wrappers (like wp-block-query) don't shrink */
:where(.core-carousel) .embla .wp-block-query {
	width: 100%;
	min-width: 100%;
}

/* Force slides (including posts) to respect a configurable width variable */
:where(.core-carousel) .embla__slide,
:where(.core-carousel) .embla .wp-block-post-template li {
	display: block;
	flex: 0 0 var(--core-carousel-slide-width, 100%);
	width: var(--core-carousel-slide-width, 100%);
	max-width: var(--core-carousel-slide-width, 100%);
	min-width: 0;
	box-sizing: border-box;

	/* Reset vertical margins to align slides */
	margin-block-start: 0;
	margin-block-end: 0;
}

/* Vertical Axis adjustments */
:where(.core-carousel[data-axis="y"]) {
	display: flex;
	flex-direction: column;
}

:where(.core-carousel[data-axis="y"]) .embla {
	height: var(--core-carousel-height);
}

:where(.core-carousel[data-axis="y"]) .embla__container {
	flex-direction: column;
	height: 100%;
	min-height: 100%;
}

:where(.core-carousel[data-axis="y"]) .embla__slide,
:where(.core-carousel[data-axis="y"]) .embla .wp-block-post-template li {
	flex: 0 0 var(--core-carousel-slide-width, 100%);
	width: 100%;
	max-width: 100%;
	margin-inline-end: 0;
}
